{"ast":null,"code":"var _jsxFileName = \"E:\\\\TYProject\\\\mobiletracker\\\\mobiletracker\\\\frontend\\\\src\\\\components\\\\LiveLocationTracker.js\",\n  _s = $RefreshSig$();\n// LiveLocationTracker.js\nimport React, { useEffect, useState } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\n\n// Define your Google Maps API key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GOOGLE_MAPS_API_KEY = 'AIzaSyA3E5Oa68_J4t4-4530RD0h_IA532wZn_8'; // Replace with your actual API key\n\nconst LiveLocationTracker = () => {\n  _s();\n  const [location, setLocation] = useState({\n    lat: null,\n    lng: null\n  });\n  const [error, setError] = useState(null);\n  const [mapCenter, setMapCenter] = useState({\n    lat: null,\n    lng: null\n  });\n  const [mapType, setMapType] = useState('roadmap'); // Default map type\n\n  useEffect(() => {\n    const geo = navigator.geolocation;\n\n    // Check if Geolocation is supported\n    if (geo) {\n      navigator.permissions.query({\n        name: 'geolocation'\n      }).then(permissionStatus => {\n        if (permissionStatus.state === 'granted') {\n          updateLocation();\n        } else if (permissionStatus.state === 'prompt') {\n          geo.getCurrentPosition(position => {\n            const newLocation = {\n              lat: position.coords.latitude,\n              lng: position.coords.longitude\n            };\n            setLocation(newLocation);\n            setMapCenter(newLocation);\n          }, error => {\n            console.error('Error getting location:', error);\n            setError(error.message);\n          }, {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n          });\n        } else {\n          setError('Location permission denied. Please enable location access in your browser settings.');\n        }\n      });\n      const intervalId = setInterval(updateLocation, 5000); // Update location every 5 seconds\n      return () => clearInterval(intervalId);\n    } else {\n      setError('Geolocation is not supported by this browser.');\n    }\n  }, []);\n  const updateLocation = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n      const newLocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      setLocation(newLocation);\n      setMapCenter(newLocation); // Center the map on the user's location\n    }, error => {\n      console.error('Error getting location:', error);\n      setError(error.message);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    });\n  };\n  const handleRecenter = () => {\n    if (location.lat && location.lng) {\n      setMapCenter(location);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-white rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold text-center mb-4\",\n      children: \"Live Location Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"mapType\",\n        className: \"block mb-2 text-sm font-medium text-gray-700\",\n        children: \"Select Map Type:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"mapType\",\n        value: mapType,\n        onChange: e => setMapType(e.target.value),\n        className: \"border border-gray-300 rounded-md p-2 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"roadmap\",\n          children: \"Roadmap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"satellite\",\n          children: \"Satellite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"terrain\",\n          children: \"Terrain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"hybrid\",\n          children: \"Hybrid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: GOOGLE_MAPS_API_KEY,\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        center: mapCenter.lat && mapCenter.lng ? mapCenter : {\n          lat: 0,\n          lng: 0\n        },\n        zoom: 14,\n        mapContainerStyle: {\n          height: '800px',\n          width: '100%'\n        },\n        mapTypeId: mapType // Set map type based on the selected option\n        ,\n        children: location.lat && location.lng && /*#__PURE__*/_jsxDEV(Marker, {\n          position: {\n            lat: location.lat,\n            lng: location.lng\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRecenter,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200\",\n        children: \"Recenter to My Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveLocationTracker, \"P5hKPa+yqfEBEjy60uztzUhMkpk=\");\n_c = LiveLocationTracker;\nexport default LiveLocationTracker;\nvar _c;\n$RefreshReg$(_c, \"LiveLocationTracker\");","map":{"version":3,"names":["React","useEffect","useState","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","GOOGLE_MAPS_API_KEY","LiveLocationTracker","_s","location","setLocation","lat","lng","error","setError","mapCenter","setMapCenter","mapType","setMapType","geo","navigator","geolocation","permissions","query","name","then","permissionStatus","state","updateLocation","getCurrentPosition","position","newLocation","coords","latitude","longitude","console","message","enableHighAccuracy","timeout","maximumAge","intervalId","setInterval","clearInterval","handleRecenter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","value","onChange","e","target","googleMapsApiKey","center","zoom","mapContainerStyle","height","width","mapTypeId","onClick","_c","$RefreshReg$"],"sources":["E:/TYProject/mobiletracker/mobiletracker/frontend/src/components/LiveLocationTracker.js"],"sourcesContent":["// LiveLocationTracker.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\n// Define your Google Maps API key\r\nconst GOOGLE_MAPS_API_KEY = 'AIzaSyA3E5Oa68_J4t4-4530RD0h_IA532wZn_8'; // Replace with your actual API key\r\n\r\nconst LiveLocationTracker = () => {\r\n  const [location, setLocation] = useState({ lat: null, lng: null });\r\n  const [error, setError] = useState(null);\r\n  const [mapCenter, setMapCenter] = useState({ lat: null, lng: null });\r\n  const [mapType, setMapType] = useState('roadmap'); // Default map type\r\n\r\n  useEffect(() => {\r\n    const geo = navigator.geolocation;\r\n\r\n    // Check if Geolocation is supported\r\n    if (geo) {\r\n      navigator.permissions.query({ name: 'geolocation' }).then((permissionStatus) => {\r\n        if (permissionStatus.state === 'granted') {\r\n          updateLocation();\r\n        } else if (permissionStatus.state === 'prompt') {\r\n          geo.getCurrentPosition(\r\n            (position) => {\r\n              const newLocation = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n              };\r\n              setLocation(newLocation);\r\n              setMapCenter(newLocation);\r\n            },\r\n            (error) => {\r\n              console.error('Error getting location:', error);\r\n              setError(error.message);\r\n            },\r\n            {\r\n              enableHighAccuracy: true,\r\n              timeout: 5000,\r\n              maximumAge: 0,\r\n            }\r\n          );\r\n        } else {\r\n          setError('Location permission denied. Please enable location access in your browser settings.');\r\n        }\r\n      });\r\n\r\n      const intervalId = setInterval(updateLocation, 5000); // Update location every 5 seconds\r\n      return () => clearInterval(intervalId);\r\n    } else {\r\n      setError('Geolocation is not supported by this browser.');\r\n    }\r\n  }, []);\r\n\r\n  const updateLocation = () => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const newLocation = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        };\r\n        setLocation(newLocation);\r\n        setMapCenter(newLocation); // Center the map on the user's location\r\n      },\r\n      (error) => {\r\n        console.error('Error getting location:', error);\r\n        setError(error.message);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 5000,\r\n        maximumAge: 0,\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleRecenter = () => {\r\n    if (location.lat && location.lng) {\r\n      setMapCenter(location);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n      <h2 className=\"text-xl font-bold text-center mb-4\">Live Location Tracker</h2>\r\n      {error && <p className=\"text-red-500 text-center\">{error}</p>}\r\n\r\n      {/* Map Type Selection */}\r\n      <div className=\"mb-4\">\r\n        <label htmlFor=\"mapType\" className=\"block mb-2 text-sm font-medium text-gray-700\">\r\n          Select Map Type:\r\n        </label>\r\n        <select\r\n          id=\"mapType\"\r\n          value={mapType}\r\n          onChange={(e) => setMapType(e.target.value)}\r\n          className=\"border border-gray-300 rounded-md p-2 w-full\"\r\n        >\r\n          <option value=\"roadmap\">Roadmap</option>\r\n          <option value=\"satellite\">Satellite</option>\r\n          <option value=\"terrain\">Terrain</option>\r\n          <option value=\"hybrid\">Hybrid</option>\r\n        </select>\r\n      </div>\r\n\r\n      <LoadScript googleMapsApiKey={GOOGLE_MAPS_API_KEY}>\r\n        <GoogleMap\r\n          center={mapCenter.lat && mapCenter.lng ? mapCenter : { lat: 0, lng: 0 }}\r\n          zoom={14}\r\n          mapContainerStyle={{ height: '800px', width: '100%' }}\r\n          mapTypeId={mapType} // Set map type based on the selected option\r\n        >\r\n          {location.lat && location.lng && (\r\n            <Marker position={{ lat: location.lat, lng: location.lng }} />\r\n          )}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n\r\n      <div className=\"flex justify-center mt-4\">\r\n        <button \r\n          onClick={handleRecenter} \r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200\"\r\n        >\r\n          Recenter to My Location\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveLocationTracker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}